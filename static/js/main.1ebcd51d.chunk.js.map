{"version":3,"sources":["utils/mestoAuth.js","contexts/CurrentUserContext.js","components/ProtectedRoute.js","components/Header.js","utils/api.js","components/Card.js","components/Main.js","components/Login.js","components/Register.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/ImagePopup.js","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["BASE_URL","CurrentUserContext","React","createContext","ProtectedRoute","Component","component","props","loggedIn","to","Header","userEmail","handleSignOut","location","useLocation","signOut","localStorage","removeItem","className","href","target","rel","param","onClick","renderSwitch","pathname","api","options","this","_baseUrl","baseUrl","_headers","headers","fetch","then","_checkResponse","data","method","body","JSON","stringify","cardId","status","_likeCard","_dislikeCard","link","avatar","res","ok","json","Promise","reject","authorization","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","src","alt","name","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","about","map","Login","state","username","password","handleChange","bind","handleSubmit","e","value","setState","preventDefault","email","response","token","setItem","catch","err","console","log","mestoAuth","handleLogin","history","push","onSubmit","required","placeholder","onChange","withRouter","Register","message","handleRegister","Footer","lang","PopupWithForm","title","btnCaption","isOpen","onClose","children","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","id","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","urlRef","useRef","current","ref","AddPlacePopup","setLink","DeleteCardPopup","onDeleteCard","ImagePopup","InfoTooltip","registerStatus","App","useHistory","setLoggedIn","setUserEmail","setCurrentUser","setRegisterStatus","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isDeletePopupOpen","setDeletePopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","setCards","selectedCard","setSelectedCard","setIsLoading","cardToDelete","setCardToDelete","closeAllPopups","getItem","jwt","all","getInitialInfo","getInitialCards","info","cardsArr","handleTokenCheck","Provider","path","changeLikeCardStatus","newCard","c","setUserInfo","createNewCard","deleteCard","filter","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1ebcd51d.chunk.js","sourcesContent":["export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (email, password) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ password, email })\r\n    })\r\n        .then((response) => {\r\n            try {\r\n                if (response.status === 201) {\r\n                    return response.json();\r\n                }\r\n            } catch (e) {\r\n                return (e)\r\n            }\r\n        })\r\n        .then((res) => {\r\n            return res;\r\n        })\r\n        .catch((err) => console.log(err));\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ password, email })\r\n    })\r\n        .then(response => response.json())\r\n        .then((res) => {\r\n            if (res.token) {\r\n                localStorage.setItem('jwt', res.token);\r\n                return res;\r\n            }\r\n        })\r\n        .catch((err) => console.log(err));\r\n}\r\n\r\nexport const checkToken = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`,\r\n        }\r\n    })\r\n        .then(res => res.json())\r\n        .catch((err) => console.log(err));\r\n}","import React from \"react\";\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    return (\r\n        <Route>\r\n            {\r\n                () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n            }\r\n        </Route>\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\nfunction Header({ userEmail, handleSignOut }) {\r\n    const location = useLocation();\r\n    function signOut() {\r\n        localStorage.removeItem('jwt');\r\n        handleSignOut();\r\n    }\r\n    function renderSwitch(param) {\r\n        switch (param) {\r\n            case '/sign-up':\r\n                return (<Link to=\"/sign-in\" className=\"header__link\">Войти</Link>);\r\n            case '/sign-in':\r\n                return (<Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link>);\r\n            default:\r\n                return (<Link to=\"/sign-in\" onClick={signOut} className=\"header__link\">Выйти</Link>);\r\n        }\r\n    }\r\n    return (\r\n        <header className=\"header\">\r\n            <a className=\"header__logo\" href=\"https://ilyadedov-yandex.github.io/mesto-react/\" target=\"_self\" rel=\"noopener noreferrer\"></a>\r\n            <div className=\"header__container\">\r\n                {userEmail && <p className=\"header__email\">{userEmail}</p>}\r\n                {renderSwitch(location.pathname)}\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","class Api {\r\n    constructor(options) {\r\n        this._baseUrl = options.baseUrl;\r\n        this._headers = options.headers;\r\n    }\r\n    getInitialInfo() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse)\r\n    };\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    setUserInfo(data) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n    createNewCard(data) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers,\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n    _likeCard(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n            method: 'PUT',\r\n            headers: this._headers,\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n    _dislikeCard(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers,\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n    changeLikeCardStatus(cardId, status) {\r\n        return status ? this._likeCard(cardId) : this._dislikeCard(cardId);\r\n    }\r\n    setUserAvatar(link) {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: link\r\n            })\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n    _checkResponse(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n}\r\nexport const api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-27',\r\n    headers: {\r\n        authorization: '2d3e1cdc-e394-4bd9-a5ca-873b1a753e66',\r\n        'Content-Type': 'application/json'\r\n    }\r\n});","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = `element__like-btn ${isLiked && 'element__like-btn_active'}`;\r\n    function handleClick() {\r\n        onCardClick(card);\r\n    }\r\n    function handleLikClick() {\r\n        onCardLike(card);\r\n    }\r\n    function handleDeleteClick() {\r\n        onCardDelete(card);\r\n    }\r\n    return (\r\n        <li className=\"element\">\r\n            <img onClick={handleClick} className=\"element__image\" src={card.link} alt={card.name} />\r\n            {isOwn && <button onClick={handleDeleteClick} type=\"button\" className=\"element__delete-btn\" aria-label=\"Удалить карточку\"></button>}\r\n            <div className=\"element__caption-container\">\r\n                <h2 className=\"element__caption\">{card.name}</h2>\r\n                <div>\r\n                    <button onClick={handleLikClick} type=\"button\" className={cardLikeButtonClassName} aria-label=\"Поставить лайк\"></button>\r\n                    <p className=\"element__like-counter\">{card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li >\r\n    );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    return (\r\n        <main className=\"main\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__group\">\r\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар\" />\r\n                    <div className=\"profile__avatar-edit\" onClick={onEditAvatar}></div>\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n                    <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n                    <button onClick={onEditProfile} type=\"button\" className=\"profile__edit-button\" aria-label=\"Изменить профайл\"></button>\r\n                </div>\r\n                <button onClick={onAddPlace} type=\"button\" className=\"profile__add-button\" aria-label=\"Добавить профайл\"></button>\r\n\r\n            </section>\r\n            <section className=\"elements\">\r\n                <ul className=\"elements__list\">\r\n                    {cards.map((card) => <Card card={card} key={card._id} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} />)}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from \"react\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport * as mestoAuth from '../utils/mestoAuth.js';\r\nclass Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: ''\r\n        }\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n    }\r\n    handleChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n    handleSubmit(e) {\r\n        e.preventDefault()\r\n        if (!this.state.username || !this.state.password) {\r\n            return;\r\n        }\r\n        const { username, password } = this.state;\r\n        mestoAuth.authorize(username, password)\r\n            .then((res) => {\r\n                if (res.token) {\r\n                    this.setState({ username: '', password: '' }, () => {\r\n                        this.props.handleLogin(e);\r\n                        this.props.history.push('/');\r\n                    })\r\n                }\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"login\">\r\n                <h2 className=\"login__welcome\">Вход</h2>\r\n                <form className=\"login__form\" onSubmit={this.handleSubmit}>\r\n                    <input required className=\"login__input\" name=\"username\" placeholder=\"Email\" type=\"text\" onChange={this.handleChange} value={this.state.username} />\r\n                    <input required className=\"login__input\" name=\"password\" placeholder=\"Пароль\" type=\"password\" onChange={this.handleChange} value={this.state.password} />\r\n                    <button type=\"submit\" className=\"login__btn\">Войти</button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Login);","import React from \"react\";\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport * as mestoAuth from '../utils/mestoAuth.js'\r\nclass Register extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: ''\r\n        }\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    handleChange(e) {\r\n        const { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        })\r\n    }\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const { username, password } = this.state;\r\n        mestoAuth.register(username, password).then((res) => {\r\n            if (res && res.status !== 400) {\r\n                this.setState({\r\n                    message: 'Вы успешно зарегистрировались!'\r\n                }, () => {\r\n                    this.props.handleRegister({ message: this.state.message, status: 'true' });\r\n                    this.props.history.push('/sign-in');\r\n                })\r\n            } else {\r\n                this.setState({\r\n                    message: 'Что-то пошло не так'\r\n                }, () => { this.props.handleRegister({ message: this.state.message, status: 'false' }); })\r\n            }\r\n        })\r\n            .catch(err => console.log(err));\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"login\" >\r\n                <h2 className=\"login__welcome\">Регистрация</h2>\r\n                <form className=\"login__form\" onSubmit={this.handleSubmit}>\r\n                    <input required className=\"login__input\" name=\"username\" placeholder=\"Email\" type=\"text\" onChange={this.handleChange} value={this.state.username} />\r\n                    <input required className=\"login__input\" name=\"password\" placeholder=\"Пароль\" type=\"password\" onChange={this.handleChange} value={this.state.password} />\r\n                    <button type=\"submit\" className=\"login__btn\">Зарегистрироваться</button>\r\n                </form>\r\n                <div className=\"login__signup\">\r\n                    <p className=\"login__caption\">Уже зарегистрированы? </p>\r\n                    <Link to=\"/sign-in\" className=\"login__link\"> Войти</Link>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Register);","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\" lang=\"en-GB\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nfunction PopupWithForm({ name, title, btnCaption = \"Сохранить\", isOpen, onClose, children, onSubmit }) {\r\n    return (\r\n        <div className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`}>\r\n            <div className=\"popup__container\">\r\n                <button onClick={onClose} type=\"button\" className=\"popup__close-btn\" aria-label=\"Закрыть попап\"></button>\r\n                <form className=\"form\" name={`${name}-form`} onSubmit={onSubmit} noValidate>\r\n                    <h2 className=\"form__title\">{title}</h2>\r\n                    {children}\r\n                    <button type=\"submit\" className=\"form__save-btn\">{btnCaption}</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default PopupWithForm;","import React, { useState } from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, isOpen]);\r\n    function handleNameChange(e) {\r\n        setName(e.target.value)\r\n    }\r\n    function handleDecriptionChange(e) {\r\n        setDescription(e.target.value)\r\n    }\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name: name,\r\n            about: description,\r\n        });\r\n    }\r\n    return (\r\n        <PopupWithForm name=\"edit\" title=\"Редактировать профиль\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n            <label className=\"form__field\">\r\n                <input type=\"text\" name=\"profile-name\" value={name} onChange={handleNameChange} placeholder=\"Имя\" className=\"form__input form__input_type_name\"\r\n                    id=\"name-input\" required minLength=\"2\" maxLength=\"40\" />\r\n                <span className=\"form__input-error name-input-error\"></span>\r\n            </label>\r\n            <label className=\"form__field\">\r\n                <input type=\"text\" name=\"profile-about\" value={description} onChange={handleDecriptionChange} placeholder=\"О себе\"\r\n                    className=\"form__input form__input_type_about\" id=\"about-input\" required minLength=\"2\"\r\n                    maxLength=\"200\" />\r\n                <span className=\"form__input-error about-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n    const urlRef = React.useRef();\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateAvatar(urlRef.current.value);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n            <label className=\"form__field\">\r\n                <input type=\"url\" ref={urlRef} name=\"avatar-link\" placeholder=\"ссылка на аватар\"\r\n                    className=\"form__input form__input_type_link\" id=\"avatar-link-input\" required />\r\n                <span className=\"form__input-error avatar-link-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React, { useEffect, useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n    const [name, setName] = useState('');\r\n    const [link, setLink] = useState('');\r\n    useEffect(() => {\r\n        setName('');\r\n        setLink('');\r\n    }, [isOpen]);\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n    }\r\n    function handleLinkChange(e) {\r\n        setLink(e.target.value);\r\n    }\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({\r\n            name: name,\r\n            link: link,\r\n        });\r\n    }\r\n    return (\r\n        <PopupWithForm name=\"new-card\" title=\"Новое место\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n            <label className=\"form__field\">\r\n                <input type=\"text\" name=\"card-name\" value={name} onChange={handleNameChange} placeholder=\"Название\" className=\"form__input form__input_type_name\"\r\n                    id=\"card-name-input\" required minLength=\"2\" maxLength=\"30\" />\r\n                <span className=\"form__input-error card-name-input-error\"></span>\r\n            </label>\r\n            <label className=\"form__field\">\r\n                <input type=\"url\" name=\"card-link\" value={link} onChange={handleLinkChange} placeholder=\"Ссылка на картинку\"\r\n                    className=\"form__input form__input_type_about\" id=\"card-link-input\" required />\r\n                <span className=\"form__input-error card-link-input-error\"></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction DeleteCardPopup({ isOpen, onClose, onDeleteCard, card }) {\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onDeleteCard(card);\r\n    }\r\n    return (\r\n        <PopupWithForm name=\"delete\" title=\"Вы уверены\" btnCaption=\"Да\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} />\r\n    );\r\n}\r\n\r\nexport default DeleteCardPopup;","import React from 'react';\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n\r\n    return (\r\n        <div className={`popup popup_type_image ${card ? 'popup_opened' : ''}`}>\r\n            <figure className=\"figure\">\r\n                <button onClick={onClose} type=\"button\" className=\"popup__close-btn\" aria-label=\"Закрыть попап\"></button>\r\n                <img className=\"figure__image\" src={card ? card.link : ''}\r\n                    alt={card ? card.name : ''} />\r\n                <figcaption className=\"figure__caption\">{card ? card.name : ''}</figcaption>\r\n            </figure>\r\n        </div >\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","import React from \"react\";\r\nfunction InfoTooltip({ isOpen, onClose, registerStatus }) {\r\n    const { message, status } = registerStatus;\r\n    return (\r\n        <div className={`popup ${isOpen ? 'popup_opened' : ''}`}>\r\n            <div className=\"popup__container\">\r\n                <button onClick={onClose} type=\"button\" className=\"popup__close-btn\" aria-label=\"Закрыть попап\"></button>\r\n                <div className={`popup__status-${status}`}></div>\r\n                <p className=\"popup__caption\">{message}</p>\r\n            </div>\r\n        </div >\r\n    );\r\n}\r\n\r\nexport default InfoTooltip;","\nimport React, { useState, useEffect } from 'react';\nimport { Switch, Route, useHistory } from 'react-router-dom';\nimport * as mestoAuth from '../utils/mestoAuth.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport ProtectedRoute from './ProtectedRoute';\nimport Header from './Header';\nimport { api } from '../utils/api';\nimport Main from './Main';\nimport Login from './Login';\nimport Register from './Register';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeleteCardPopup from './DeleteCardPopup';\nimport ImagePopup from './ImagePopup';\nimport InfoTooltip from './InfoTooltip.js';\nfunction App() {\n  const history = useHistory();\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState('');\n  const [currentUser, setCurrentUser] = useState({ name: '', about: '' });\n  const [registerStatus, setRegisterStatus] = useState({ message: '', status: false });\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isDeletePopupOpen, setDeletePopupOpen] = useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [cardToDelete, setCardToDelete] = useState(null);\n  useEffect(() => {\n    handleTokenCheck();\n  }, []);\n\n  function handleTokenCheck() {\n    if (localStorage.getItem('jwt')) {\n      const jwt = localStorage.getItem('jwt');\n      mestoAuth.checkToken(jwt)\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true);\n            setUserEmail(res.data.email);\n            history.push('/');\n            Promise.all([api.getInitialInfo(), api.getInitialCards()])\n              .then(([info, cardsArr]) => {\n                setCurrentUser(info);\n                setCards(cardsArr);\n                setIsLoading(false);\n              })\n              .catch(err => console.log(err));\n          }\n        })\n    }\n  }\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch(err => console.log(err));\n  }\n  function handleSubmitDeleteCard(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n  function handleCardDelete(card) {\n    setCardToDelete(card);\n    setDeletePopupOpen(true);\n  }\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setDeletePopupOpen(false);\n    setSelectedCard(null);\n    setIsInfoTooltipOpen(false);\n  }\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n  function handleUpdateUser(info) {\n    api.setUserInfo(info)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n  function handleUpdateAvatar(link) {\n    api.setUserAvatar(link)\n      .then(info => {\n        setCurrentUser(info);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n  function handleAddPlaceSubmit(card) {\n    api.createNewCard(card)\n      .then(newCard => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n  function handleLogin(e) {\n    e.preventDefault();\n    setLoggedIn(true);\n  }\n  function handleSignOut() {\n    setUserEmail('');\n    setLoggedIn(false);\n  }\n  function handleRegister(res) {\n    setRegisterStatus(res);\n    setIsInfoTooltipOpen(true);\n  }\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header userEmail={userEmail} handleSignOut={handleSignOut} />\n        <Switch>\n          <Route path=\"/sign-up\">\n            <Register handleRegister={handleRegister} />\n          </Route>\n          <Route path=\"/sign-in\">\n            <Login handleLogin={handleLogin} />\n          </Route>\n          <ProtectedRoute path=\"/\" loggedIn={loggedIn} component={Main} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} />\n        </Switch>\n        <Footer />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n        <DeleteCardPopup isOpen={isDeletePopupOpen} onClose={closeAllPopups} onDeleteCard={handleSubmitDeleteCard} card={cardToDelete} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        <InfoTooltip isOpen={isInfoTooltipOpen} onClose={closeAllPopups} registerStatus={registerStatus} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nreportWebVitals();\n"],"sourceRoot":""}